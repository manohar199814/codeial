{let e=function(){$(".new-comment-form").submit((function(e){e.preventDefault(),$.ajax({type:"post",url:"/comment/create",data:$(this).serialize(),success:e=>{let l=t(e.data.comment);$(this)[0][0].value="",$(`#post-comments-${e.data.comment.post}`).prepend(l),n($(" .delete-comment-button",l)),o(e.success,null)},error:e=>{o(null,e.responseText)}})}))},t=function(e){return $(`<li id="comment-${e._id}">\n        <p>\n            <small>\n                <a class="delete-comment-button" href="/comment/destroy/${e._id}">X</a>\n            </small>   \n            ${e.content}\n            <br>\n            <small>\n                ${e.user.name}\n            </small>\n        </p>\n        </li>`)},n=function(e){$(e).click((t=>{t.preventDefault(),$.ajax({type:"get",url:$(e).attr("href"),success:e=>{$(`#comment-${e.data.comment_id}`).remove(),o(e.success,null)},error:e=>{o(null,e.responseText)}})}))},o=function(e,t){e&&e.length>0&&new Noty({theme:"relax",text:e,type:"success",layout:"topRight",timeout:1500}).show(),t&&t.length>0&&new Noty({theme:"relax",text:t,type:"error",layout:"topRight",timeout:1500}).show()};(function(){let e=$(".delete-comment-button");for(deleteLink of e)n(deleteLink)})(),e()}